<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed glyphicon glyphicon-th-list" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1"></button>
            <a class="navbar-brand" href="javascript:void(0)">信息管理系统</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul id="menu-bar" class="nav navbar-nav logined-btn">
                <li><a href="bulletins.html">公告板</a></li>
                <li><a href="reports.html">校内信息</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="javascript:void(0)"><i class="fa fa-lg fa-search" data-toggle="modal" data-target="#global-search-modal"></i></a></li>
                <li><a href="/logout/employee">退出</a></li>
            </ul>
        </div>
    </div>
</nav>
<div id="global-search-modal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <span class="glyphicon glyphicon-remove pull-right" data-dismiss="modal"></span>
                <h4 class="modal-title">全局搜索</h4>
            </div>
            <div class="modal-body">
                <p class="text-success">全局搜索客户名称、网站名称、网站域名。</p>
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-lg fa-search"></i></span>
                    <input id="global-search-keyword" type="text" class="form-control" placeholder="输入关键词">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default pull-left" data-dismiss="modal">取消</button>
                <button id="global-search-submit" type="button" class="btn btn-success">确认</button>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var map = {
        bulletins: 0,
        reports: 1,
        report: 1,
        documents: 2,
        customers: 3,
        employees: 4,
        assigns: 4,
        creates: 4,
        logs: 4,
        salaries: 4,
        works: 5,
        work: 5,
        expirations: 6,
        servers: 7,
        domains: 7
    }

    $("#menu-bar>li").eq(map[getPageFullName().split(".")[0]]).addClass("active");

    $("#global-search-submit").click(function () {
        var keyword = $("#global-search-keyword").val();
        if (keyword == null || keyword == "") {
            $("#global-search-keyword").parent().addClass("has-error");
            return;
        } else {
            $("#global-search-keyword").parent().removeClass("has-error");
        }
        location.href = "search.html?keyword=" + encodeURIComponent(keyword);
    });
</script>